fix a possible array-out-of-bounds condition.
