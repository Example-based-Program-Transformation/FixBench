handshaking should fix on the encoding for proper interoperability