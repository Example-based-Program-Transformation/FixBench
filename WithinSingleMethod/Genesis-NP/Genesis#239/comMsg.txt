Spurious NullPointerException when closing soft/weak cache , fix #648
